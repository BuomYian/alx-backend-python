#!/bin/bash

set -e

echo "============================================"
echo "Starting Kubernetes Cluster Setup"
echo "============================================"

echo ""
echo "[1] Starting Minikube cluster..."
minikube start --driver=docker

echo ""
echo "[2] Verifying cluster is running..."
kubectl cluster-info

echo ""
echo "[3] Checking cluster status..."
kubectl get nodes

echo ""
echo "[4] Retrieving available pods..."
kubectl get pods --all-namespaces

echo ""
echo "============================================"
echo "Kubernetes Cluster Setup Complete!"
echo "============================================"
echo ""
echo "Cluster Information:"
kubectl cluster-info dump --output-dir=/tmp/cluster-info --output=json >/dev/null 2>&1 || true
echo "- Kubernetes control plane is running"
echo "- Cluster is ready to accept deployments"
echo ""
